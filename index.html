<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="仰望星空，脚踏实地，因为相信，所以看见">
<meta property="og:type" content="website">
<meta property="og:title" content="fx&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="fx&#39;s blog">
<meta property="og:description" content="仰望星空，脚踏实地，因为相信，所以看见">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fx&#39;s blog">
<meta name="twitter:description" content="仰望星空，脚踏实地，因为相信，所以看见">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>fx's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">fx's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Share the technology and life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/02/Web性能优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/02/Web性能优化/" itemprop="url">Web性能优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-02T13:22:27+08:00">
                2017-12-02
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/02/Web性能优化/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/12/02/Web性能优化/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在书上看到了关于Web性能优化方面的知识，这里先记录下来，方便以后加以实践~</p>
<p>Web性能优化分为服务器端和浏览器端两个方面：</p>
<ul>
<li><p>压缩源码和图片<br>► JavaScript文件源代码可以采用混淆压缩的方式<br>► CSS文件源码可以进行普通压缩<br>► JPG图片可以根据具体质量来压缩为50%-70%<br>► PNG可以使用一些开源压缩软件来压缩，比如24色变成8色、去掉一些PNG格式信息等</p>
</li>
<li><p>选择合适的图片格式<br>► 如果图片颜色数较多就使用JPG格式<br>► 如果图片颜色数较少就使用PNG格式<br>► 如果能够通过服务器端判断浏览器支持WebP，就使用WebP格式和SVG格式</p>
</li>
<li><p>合并静态资源<br>► 包括CSS、JavaScript和小图片，减少HTTP请求</p>
</li>
<li><p>开启服务器端的Gzip压缩<br>► 对于文本资源非常有效，对图片资源则没那么大的压缩比率</p>
</li>
<li><p>使用CDN<br>► 或者一些公开库使用第三方提供的静态资源地址（比如jQuery、normalize、css）。一方面增加并发下载量，另一方面能够和其他网站共享缓存</p>
</li>
<li><p>延长静态资源缓存时间<br>► 这样频繁访问网站的访客就可以更快地访问。但是这里要通过修改文件名的方式，确保资源更新的时候，用户会拉取到最新的内容</p>
</li>
<li><p>把CSS放在页面头部，JavaScript放在页面底部<br>► 这样就不会阻塞页面渲染，让页面出现长时间的空白</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/30/Git常用操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/30/Git常用操作/" itemprop="url">Git常用操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-01T17:34:25+08:00">
                2017-12-01
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/30/Git常用操作/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/30/Git常用操作/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>随着做项目的深入，对Git的使用也越来越频繁，这里就做一个常用操作的总结，不断更新~</p>
<h3 id="Git理念"><a href="#Git理念" class="headerlink" title="Git理念"></a>Git理念</h3><p>► 工作区（即本地文件）<br>► 暂存区<br>► 本地仓库<br>► 远程仓库</p>
<p>使用Git项目的文件都是在上面四个地方传递</p>
<h3 id="本地项目关联远程仓库"><a href="#本地项目关联远程仓库" class="headerlink" title="本地项目关联远程仓库"></a>本地项目关联远程仓库</h3><p>远程库建好以后就可以运行这条命令关联到本地项目：<br><code>git remote add origin your-remote-repository-url</code></p>
<p>如果是直接克隆远程仓库到本地的话：<br><code>git clone your-remote-repository-url</code></p>
<p>可以运行以下命令查看结果：</p>
<p><code>git remote -v</code>  查看当前项目的远程库<br><code>git branch -a</code>  查看当前项目的所有分支</p>
<h3 id="远程库同步到本地"><a href="#远程库同步到本地" class="headerlink" title="远程库同步到本地"></a>远程库同步到本地</h3><p>► 在提交更新以前都要先同步一下本地仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull   等同于 git fetch + git merge</span><br></pre></td></tr></table></figure></p>
<p>如果需要放弃本地修改，强制覆盖本地版本的话（即保持与远程库一致）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure></p>
<h3 id="提交本地更新到远程库"><a href="#提交本地更新到远程库" class="headerlink" title="提交本地更新到远程库"></a>提交本地更新到远程库</h3><p><code>git status</code> 检查当前项目状态</p>
<p>然后对于未跟踪的文件执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add untrack-file-path    跟踪单个本地文件，提交到暂存区</span><br><span class="line">git commit -m &quot;your commit&quot;  将跟踪过的文件即在暂存区的文件提交到本地仓库</span><br><span class="line">git push                     将本地仓库提交到远程库</span><br></pre></td></tr></table></figure>
<p>提交到远程库常用的命令还有：</p>
<p><code>git add .</code>      跟踪本地所有未跟踪的文件<br><code>git push -f</code>    强制提交更新，覆盖远程库 — 慎用！！！</p>
<h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><p>► 将当前版本回退到已提交的版本历史中<br><code>git reset --hard HEAD^</code>   一个^号代表回退一个版本</p>
<p>更多时候我们都会找到对应的版本号进行回退：<br>首先 <code>git log</code> 显示最近到最远的提交日志<br>如果只想显示版本号和评论信息的话可以加上 <code>--pretty=oneline</code> 参数<br>现在就可以  <code>git reset --hard version number</code>  回退到对应的版本</p>
<p>这里还有一个常用命令：<br><code>git reflog</code> 显示你的每一次命令，对于自己命令的整理很有帮助</p>
<h3 id="检查修改"><a href="#检查修改" class="headerlink" title="检查修改"></a>检查修改</h3><p>► 已修改，未暂存<br><code>git diff</code></p>
<p>► 已暂存，未提交<br><code>git diff --cached</code></p>
<p>► 已提交，未推送<br><code>git diff master origin/master</code></p>
<h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3><p>► 已修改，未暂存<br><code>git checkout -- file-path</code></p>
<p>► 已暂存，未提交<br><code>git reset HEAD file-path</code>  先撤销暂存区的修改<br><code>git checkout -- file-path</code> 再撤销工作区的修改</p>
<p>PS: 以上两个步骤都可以用 <code>git reset --hard</code> 完成，一步到位将修改完全恢复到未修改的状态</p>
<p>► 已提交，未推送<br><code>git reset --hard origin/master</code>  从远程库将代码取回</p>
<p>► 已推送<br><code>git reset --hard HEAD^</code>    先回退本地库的版本<br><code>git push -f</code>               再强制推送到远程库</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/29/数据结构实验参考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/29/数据结构实验参考/" itemprop="url">数据结构实验参考</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-01T17:35:42+08:00">
                2017-12-01
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/29/数据结构实验参考/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/29/数据结构实验参考/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>逐步补上之前的数据结构实验代码，之后也会不断完善，仅供参考(<em>^▽^</em>)</p>
<h3 id="顺序表链表的创建输出及两种有序表的合并"><a href="#顺序表链表的创建输出及两种有序表的合并" class="headerlink" title="顺序表链表的创建输出及两种有序表的合并"></a>顺序表链表的创建输出及两种有序表的合并</h3><ul>
<li>对于顺序表和单链表定义不同的结构体，顺序表通过下标创建并输出<br>链表为带头结点的单链表，使用尾插法创建并输出</li>
<li>从头开始遍历两个升序表，将更大的存入第三个表中，并将其标记后移<br>对于单链表，需要使用头插法插入第三个单链表中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    顺序表的创建输出及两个升序表合并成一个升序顺序表</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;math.h&gt;</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    int a[100];</span><br><span class="line">    int len;</span><br><span class="line">&#125;list;</span><br><span class="line"></span><br><span class="line">void inputList(list *L) &#123;</span><br><span class="line">    int x, i = 0;</span><br><span class="line">    printf(&quot;输入一串数(以-1结束)：&quot;);</span><br><span class="line">    while(scanf(&quot;%d&quot;, &amp;x) &amp;&amp; x != -1) &#123;</span><br><span class="line">        L-&gt;a[i] = x;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;len = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printList(list *L) &#123;</span><br><span class="line">    printf(&quot;\n线性表为：&quot;);</span><br><span class="line">    int i;</span><br><span class="line">    for(i = 0; i &lt; L-&gt;len ; i++) &#123;</span><br><span class="line">        printf(&quot;%d &quot;, L-&gt;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void insertList(list *L, int x) &#123;</span><br><span class="line">    int i;</span><br><span class="line">    for(i = L-&gt;len-1; i &gt; 0 &amp;&amp; L-&gt;a[i] &gt; x; i--) &#123;</span><br><span class="line">        L-&gt;a[i+1] = L-&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;a[i+1] = x;</span><br><span class="line">    L-&gt;len++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void mergeDoubleUp(list *L1, list *L2, list *L3) &#123;</span><br><span class="line">    int i = 0, j = 0, tail = 0;</span><br><span class="line">    while(i &lt; L1-&gt;len &amp;&amp; j &lt; L2-&gt;len) &#123;</span><br><span class="line">        if(L1-&gt;a[i] &lt; L2-&gt;a[j]) &#123;</span><br><span class="line">            L3-&gt;a[tail] = L1-&gt;a[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            L3-&gt;a[tail] = L2-&gt;a[j];</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        tail++;</span><br><span class="line">    &#125;</span><br><span class="line">    while(i &lt; L1-&gt;len) &#123; L3-&gt;a[tail] = L1-&gt;a[i]; i++; tail++; &#125;</span><br><span class="line">    while(j &lt; L2-&gt;len) &#123; L3-&gt;a[tail] = L2-&gt;a[j]; j++; tail++; &#125;</span><br><span class="line">    L3-&gt;len = tail;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line"></span><br><span class="line">    list L1, L2, L3;</span><br><span class="line">    inputList(&amp;L1);</span><br><span class="line">    inputList(&amp;L2);</span><br><span class="line">    mergeDoubleUp(&amp;L1, &amp;L2, &amp;L3);</span><br><span class="line">    printList(&amp;L3);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    单链表的创建输出、两个升序链表合并为一个降序链表</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">typedef struct k &#123;</span><br><span class="line">    int data;</span><br><span class="line">    struct k *next;</span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line">void createList(node *h) &#123;</span><br><span class="line">    node *p, *tail;</span><br><span class="line">    tail = h;</span><br><span class="line">    int x;</span><br><span class="line">    printf(&quot;输入一串数(以-1结束)：&quot;);</span><br><span class="line">    while(scanf(&quot;%d&quot;, &amp;x) &amp;&amp; x != -1) &#123;</span><br><span class="line">        p = (node *)malloc(sizeof(node));</span><br><span class="line">        p-&gt;data = x; p-&gt;next = NULL;</span><br><span class="line">        tail-&gt;next = p;</span><br><span class="line">        tail = p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printList(node *h) &#123;</span><br><span class="line">    node *p;</span><br><span class="line">    for(p = h-&gt;next; p != NULL; p = p-&gt;next) &#123;</span><br><span class="line">        printf(&quot;%d &quot;, p-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void mergeDoubleDown(node *h1, node *h2, node *h3) &#123;</span><br><span class="line">    node *i, *j, *head;</span><br><span class="line">    i = h1-&gt;next; j = h2-&gt;next;</span><br><span class="line">    while(i != NULL &amp;&amp; j != NULL) &#123;</span><br><span class="line">        if(i-&gt;data &lt; j-&gt;data) &#123;</span><br><span class="line">            head = i;</span><br><span class="line">            i = i-&gt;next;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            head = j;</span><br><span class="line">            j = j-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        // 头插法建立h3链表</span><br><span class="line">        head-&gt;next = h3-&gt;next;</span><br><span class="line">        h3-&gt;next = head;</span><br><span class="line">    &#125;</span><br><span class="line">    // 尾部处理</span><br><span class="line">    while(i != NULL) &#123;</span><br><span class="line">        head = (node *)malloc(sizeof(node));</span><br><span class="line">        head-&gt;data = i-&gt;data;</span><br><span class="line">        i = i-&gt;next;</span><br><span class="line">        head-&gt;next = h3-&gt;next;</span><br><span class="line">        h3-&gt;next = head;</span><br><span class="line">    &#125;</span><br><span class="line">    while(j != NULL) &#123;</span><br><span class="line">        head = (node *)malloc(sizeof(node));</span><br><span class="line">        head-&gt;data = j-&gt;data;</span><br><span class="line">        j = j-&gt;next;</span><br><span class="line">        head-&gt;next = h3-&gt;next;</span><br><span class="line">        h3-&gt;next = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    node h1, h2, h3;</span><br><span class="line">    h1.next = NULL;</span><br><span class="line">    h2.next = NULL;</span><br><span class="line">    h3.next = NULL;</span><br><span class="line">    createList(&amp;h1);</span><br><span class="line">    createList(&amp;h2);</span><br><span class="line">    printf(&quot;\n链表1为&quot;);printList(&amp;h1);</span><br><span class="line">    printf(&quot;\n链表2为&quot;);printList(&amp;h2);</span><br><span class="line">    mergeDoubleDown(&amp;h1, &amp;h2, &amp;h3);</span><br><span class="line">    printf(&quot;\n链表3为&quot;);printList(&amp;h3);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="顺序表的排序及单链表求最值"><a href="#顺序表的排序及单链表求最值" class="headerlink" title="顺序表的排序及单链表求最值"></a>顺序表的排序及单链表求最值</h3><ul>
<li>通过两次循环，默认为升序，如果第一次循环出现降序则进入第二次循环，第二次循环若出现升序则说明无序</li>
<li>设置两个标记分别从两边遍历，左为奇数时左标记继续，右为偶数时右标记继续，直到左为偶数右为奇数时则交换</li>
<li>设置当前标记和前驱标记遍历整个单链表，并通过预设的最大标记指针和最大前驱标记指针不断比较，遍历完最大标记指针就指向最大值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    判断顺序表是否有序、实现奇偶分开、实现选择排序算法</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">int isSort(sort *L) &#123;  // 返回-1说明无序，1则有序</span><br><span class="line">    int i, j;</span><br><span class="line">    // 两次循环判断</span><br><span class="line">    for(i = 0, j = 1; j &lt; L-&gt;len; i++, j++) &#123;</span><br><span class="line">        if(L-&gt;a[i] &gt; L-&gt;a[j]) &#123;</span><br><span class="line">            for(i = 0, j = 1; j &lt; L-&gt;len; i++, j++) &#123;</span><br><span class="line">                if(L-&gt;a[i] &lt; L-&gt;a[j]) return -1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void divert(sort *L) &#123;</span><br><span class="line">    int i = 0, j = L-&gt;len-1;</span><br><span class="line">    while(i &lt; j) &#123;</span><br><span class="line">        while(L-&gt;a[i] % 2 != 0) i++;</span><br><span class="line">        while(L-&gt;a[j] % 2 == 0) j--;</span><br><span class="line">        if(i &lt; j) &#123;</span><br><span class="line">            int temp = L-&gt;a[i];</span><br><span class="line">            L-&gt;a[i] = L-&gt;a[j];</span><br><span class="line">            L-&gt;a[j] = temp;</span><br><span class="line">        &#125; else break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void selectSort(sort *L) &#123;</span><br><span class="line">    int i;</span><br><span class="line">    for(i = 0; i &lt; L-&gt;len; i++) &#123;</span><br><span class="line">        int min = i, j;</span><br><span class="line">        for(j = i; j &lt; L-&gt;len; j++) &#123;</span><br><span class="line">            if(L-&gt;a[j] &lt; L-&gt;a[min]) min = j;</span><br><span class="line">        &#125;</span><br><span class="line">        int temp = L-&gt;a[min];</span><br><span class="line">        L-&gt;a[min] = L-&gt;a[i];</span><br><span class="line">        L-&gt;a[i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    选出单链表的最大值并移至末尾</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">void removeMax(node *h) &#123;</span><br><span class="line">    node *pre, *p, *preMax, *max;</span><br><span class="line">    preMax = h; max = preMax-&gt;next;</span><br><span class="line">    pre = preMax-&gt;next; p = max-&gt;next;</span><br><span class="line">    for(; p != NULL; p = p-&gt;next, pre = pre-&gt;next) &#123;</span><br><span class="line">        if(p-&gt;data &gt; max-&gt;data) &#123;</span><br><span class="line">            preMax = pre;</span><br><span class="line">            max = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    preMax-&gt;next = max-&gt;next;</span><br><span class="line">    pre-&gt;next = max;</span><br><span class="line">    max-&gt;next = NULL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="带头指针型单链表及模式匹配算法"><a href="#带头指针型单链表及模式匹配算法" class="headerlink" title="带头指针型单链表及模式匹配算法"></a>带头指针型单链表及模式匹配算法</h3><ul>
<li>头指针型单链表创建时对于第一个输入单独造头结点，之后与带头结点型单链表相同</li>
<li>采用递归不断分解直到达最后一个结点输出</li>
<li>从头开始遍历文本串t，同时不断跟模式串p匹配直到成功或遍历结束匹配失败</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    创建输出头指针型单链表、合并两个升序头指针型单链表为降序、将单链表从尾至首输出</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">node *createList() &#123;</span><br><span class="line">    int x;</span><br><span class="line">    node *h, *p, *tail;</span><br><span class="line">    printf(&quot;输入一串数(以-1结束)：&quot;);</span><br><span class="line">    /* 造头结点 */</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;x);</span><br><span class="line">    if(x == -1) return;</span><br><span class="line">    h = (node *)malloc(sizeof(node));</span><br><span class="line">    h-&gt;data = x; h-&gt;next = NULL;</span><br><span class="line">    tail = h;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;x);</span><br><span class="line">    while(x != -1) &#123;</span><br><span class="line">            p = (node *)malloc(sizeof(node));</span><br><span class="line">            p-&gt;data = x; p-&gt;next = NULL;</span><br><span class="line">            tail-&gt;next = p;</span><br><span class="line">            tail = p;</span><br><span class="line">            scanf(&quot;%d&quot;, &amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    return h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printList(node *h) &#123;</span><br><span class="line">    printf(&quot;链表为：&quot;);</span><br><span class="line">    node *p;</span><br><span class="line">    for(p = h; p != NULL; p = p-&gt;next) &#123;</span><br><span class="line">        printf(&quot;%d &quot;, p-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">node *mergeDoubleDown(node *h1, node *h2, node *h3) &#123;</span><br><span class="line">    node *i, *j, *k;</span><br><span class="line">    i = h1; j = h2;</span><br><span class="line">    while(i != NULL &amp;&amp; j != NULL) &#123;</span><br><span class="line">        if(i-&gt;data &lt; j-&gt;data) &#123;</span><br><span class="line">            k = i;</span><br><span class="line">            i = i-&gt;next;</span><br><span class="line">            k-&gt;next = h3;</span><br><span class="line">            h3 = k;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            k = j;</span><br><span class="line">            j = j-&gt;next;</span><br><span class="line">            k-&gt;next = h3;</span><br><span class="line">            h3 = k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 尾部处理</span><br><span class="line">    while(i != NULL) &#123;</span><br><span class="line">        k = i;</span><br><span class="line">        i = i-&gt;next;</span><br><span class="line">        k-&gt;next = h3;</span><br><span class="line">        h3 = k;</span><br><span class="line">    &#125;</span><br><span class="line">    while(j != NULL) &#123;</span><br><span class="line">        k = j;</span><br><span class="line">        j = j-&gt;next;</span><br><span class="line">        k-&gt;next = h3;</span><br><span class="line">        h3 = k;</span><br><span class="line">    &#125;</span><br><span class="line">    return h3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void revPrintList(node *h) &#123;</span><br><span class="line">    if(h-&gt;next != NULL) &#123;</span><br><span class="line">        revPrintList(h-&gt;next);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;%d &quot;, h-&gt;data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    朴素的模式匹配算法</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">void creStr(seqString *s) &#123;</span><br><span class="line">    char x; int i = 0;</span><br><span class="line">    while((x = getchar()) != &apos;\n&apos;) &#123;</span><br><span class="line">        s-&gt;str[i] = x;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;len = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int simpleMatch(seqString t, seqString p) &#123;</span><br><span class="line">    int i;</span><br><span class="line">    for(i = 0; i &lt; t.len; i++) &#123;</span><br><span class="line">        if(success(t, p, i)) return i;</span><br><span class="line">    &#125;</span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int success(seqString t, seqString p, int i) &#123;</span><br><span class="line">    int j;</span><br><span class="line">    for(j = 0; j &lt; p.len; j++) &#123;</span><br><span class="line">        if(t.str[i+j] != p.str[j]) return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="稀疏矩阵的转置与递归程序设计"><a href="#稀疏矩阵的转置与递归程序设计" class="headerlink" title="稀疏矩阵的转置与递归程序设计"></a>稀疏矩阵的转置与递归程序设计</h3><ul>
<li>首先将行列数与非零元数存入第一个三元组，再根据输入将非零元存入对应位置<br>快速转置时需要一遍扫描填入非零元所在的新位置数组，之后一步转置</li>
<li>递归时传入空格的个数作为参数，将空格作为数字</li>
<li>递归分解整体成第一个和其余个数为两部分进行比较返回比较结果</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    稀疏矩阵的创建输出、朴素转置与快速转置</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    int r, c, e;</span><br><span class="line">&#125;SYZ;</span><br><span class="line"></span><br><span class="line"> void inputMatrix(SYZ ma[]) &#123;</span><br><span class="line">    int i = 0, m = 0, n = 0, r = 0, c = 0, e = 0;</span><br><span class="line">    printf(&quot;输入行数和列数(m n)：&quot;);</span><br><span class="line">    scanf(&quot;%d %d&quot;, &amp;m, &amp;n);</span><br><span class="line">    ma[0].r = m; ma[0].c = n;</span><br><span class="line">    printf(&quot;\n输入三元组(格式如3 4 5), 以回车分隔, 输入0 0 0结束：\n&quot;);</span><br><span class="line">    scanf(&quot;%d %d %d&quot;, &amp;r, &amp;c, &amp;e);</span><br><span class="line">    while(r != 0) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        ma[i].r = r;</span><br><span class="line">        ma[i].c = c;</span><br><span class="line">        ma[i].e = e;</span><br><span class="line">        scanf(&quot;%d %d %d&quot;, &amp;r, &amp;c, &amp;e);</span><br><span class="line">    &#125;</span><br><span class="line">    ma[0].e = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printMatrix(SYZ m[]) &#123;</span><br><span class="line">    int i, j;</span><br><span class="line">    int k = 1;</span><br><span class="line">    printf(&quot;\n矩阵为：\n&quot;);</span><br><span class="line">    for(i = 1; i &lt;= m[0].r; i++) &#123;</span><br><span class="line">        for(j = 1; j &lt;= m[0].c; j++) &#123;</span><br><span class="line">            if(k &lt;= m[0].e &amp;&amp; m[k].r == i &amp;&amp; m[k].c == j) &#123; printf(&quot; %d &quot;, m[k].e); k++; &#125;</span><br><span class="line">            else printf(&quot; 0 &quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        printf(&quot;\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void generalTrans(SYZ ma[], SYZ mb[]) &#123;</span><br><span class="line">    if(ma[0].e == 0) return;</span><br><span class="line">    // 行列维数互换</span><br><span class="line">    mb[0].r = ma[0].c;</span><br><span class="line">    mb[0].c = ma[0].r;</span><br><span class="line">    mb[0].e = ma[0].e;</span><br><span class="line">    // 扫描ma三元组,依次加到mb中</span><br><span class="line">    int k, col, e;</span><br><span class="line">    for(k = 1, col = 1; col &lt;= ma[0].c; col++) &#123;</span><br><span class="line">        for(e = 1; e &lt;= ma[0].e; e++) &#123;</span><br><span class="line">            if(ma[e].c == col) &#123;</span><br><span class="line">                mb[k].r = ma[e].c;</span><br><span class="line">                mb[k].c = ma[e].r;</span><br><span class="line">                mb[k].e = ma[e].e;</span><br><span class="line">                k++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fillNum(SYZ m[], int num[]) &#123;</span><br><span class="line">    // 计算不同元素的个数, 存入num[]</span><br><span class="line">    int i, k;</span><br><span class="line">    for(i = 0; i &lt;= m[0].c; i++) num[i] = 0;</span><br><span class="line">    for(i = 0; i &lt;= m[0].e; i++) &#123;</span><br><span class="line">        k = m[i].c;</span><br><span class="line">        num[k]++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fillPos(int num[], int pos[], int len) &#123;</span><br><span class="line">    pos[1] = 1;</span><br><span class="line">    int k;  // 从2到原列数</span><br><span class="line">    for(k = 2; k &lt;= len; k++) pos[k] = pos[k-1]+ num[k-1];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void quickTrans(SYZ ma[], SYZ mb[]) &#123;</span><br><span class="line">    // 一遍扫描，获取num[]和pos[]</span><br><span class="line">    int num[20], pos[20];</span><br><span class="line">    fillNum(ma, num);</span><br><span class="line">    fillPos(num, pos, ma[0].c);</span><br><span class="line">    // 一步转置</span><br><span class="line">    int i, k, c;</span><br><span class="line">    mb[0].r = ma[0].c;</span><br><span class="line">    mb[0].c = mb[0].r;</span><br><span class="line">    mb[0].e = mb[0].e;</span><br><span class="line">    for(i = 1; i &lt;= ma[0].e; i++) &#123;</span><br><span class="line">        c = ma[i].c; k = pos[c];</span><br><span class="line">        mb[k].r = ma[i].c;</span><br><span class="line">        mb[k].c = ma[i].r;</span><br><span class="line">        mb[k].e = ma[i].e;</span><br><span class="line">        pos[c]++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    递归打印数字金字塔</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">void printTriangle(int j, int n) &#123;</span><br><span class="line">    if(n &lt;= 0) return;</span><br><span class="line">    printTriangle(j+1, n-1);</span><br><span class="line"></span><br><span class="line">    // 打印第n行</span><br><span class="line">    int i;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    for(i = 0; i &lt; j; i++) printf(&quot;   &quot;);</span><br><span class="line">    for(i = 1; i &lt;= n; i++) printf(&quot;%3d&quot;, i);</span><br><span class="line">    for(i = n-1; i &gt;0; i--) printf(&quot;%3d&quot;, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    递归查找顺序表元素下标、最大值下标</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">int find(List L, int i, int j, int x) &#123;</span><br><span class="line">    if(i &gt; j) return -1;</span><br><span class="line">    if(L.arr[i] == x) return i;</span><br><span class="line">    else return find(L, i+1, j, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int findMax(List L, int i, int j) &#123;</span><br><span class="line">    if(i &gt; j) return -1;</span><br><span class="line">    if(i == j) return i;</span><br><span class="line">    int k = findMax(L, i+1, j);</span><br><span class="line">    if(L.arr[i] &gt; L.arr[k]) return i;</span><br><span class="line">    else return k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/23/函数防抖与函数节流/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/函数防抖与函数节流/" itemprop="url">函数防抖与函数节流</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-23T19:20:18+08:00">
                2017-11-23
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/23/函数防抖与函数节流/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/23/函数防抖与函数节流/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>► 实际开发中以下场景往往由于事件频繁被触发，从而频繁执行DOM操作、资源加载等行为，导致页面卡顿甚至浏览器崩溃：</p>
<ol>
<li><p>window对象的 resize、scroll 事件</p>
</li>
<li><p>拖拽时的 mousemove 事件</p>
</li>
<li><p>射击游戏中的 mousedown、keydown 事件</p>
</li>
<li><p>文字输入、自动完成的 keyup 事件</p>
</li>
</ol>
<p>► 对于 window 的 resize 事件，实际需求一般是停止改变大小n毫秒后执行；而其它事件一般是以一定的频率执行。</p>
<p>► 针对这两种需求就出现了 debounce (防抖) 和 throttle (节流) 两种解决办法</p>
<h2 id="函数防抖"><a href="#函数防抖" class="headerlink" title="函数防抖"></a>函数防抖</h2><p>► 如果用手一直按住一个弹簧，它将不会弹起直到你松手为止，也就是调用动作n毫秒后才会执行该动作，如果n毫秒内再次调用则重新计算执行时间</p>
<p>简单实现： debounce 方法接收两个参数，一个是需要防抖动的函数 <strong>fn</strong> ，另一个是延迟时间 <strong>delay</strong></p>
<p><img src="http://i2.bvimg.com/603805/e072301856d82602.png" alt="Markdown"></p>
<h2 id="函数节流"><a href="#函数节流" class="headerlink" title="函数节流"></a>函数节流</h2><p>► 将水龙头拧到水以水滴的形式流出，每隔一段时间就有一滴水流出，也就是预先设定一个执行周期，调用动作的时刻不小于这个执行周期就执行它</p>
<p>简单实现：throttle 方法也是接收两个参数，一个是需要节流的函数 <strong>fn</strong> ，另一个是函数执行间隔阈值 <strong>threshhold</strong></p>
<p><img src="http://i2.bvimg.com/603805/a203d2e6fc4b12f0.png" alt="Markdown"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>可以参考一下防抖和节流与正常触发的对比效果图：<br><img src="http://i2.bvimg.com/603805/d32393a66dcf73c1.png" alt="Markdown"></p>
<p>► debounce 可以想象成把很多事件压缩成了一个事件，throttle 可以想象成像阀门一样定时打开调节流量</p>
<p>► 简单来说，debounce 适合只执行一次的情况，比如 搜索框的自动完成：在停止输入后才提交一次ajax请求； throttle 适合每隔一定时间间隔内执行不超过一次的情况，比如 拖动滚动条、移动鼠标、滚轮事件的处理等</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/23/ES6基础概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/ES6基础概念/" itemprop="url">ES6基础概念</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-02T13:12:57+08:00">
                2017-12-02
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/23/ES6基础概念/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/23/ES6基础概念/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="let命令"><a href="#let命令" class="headerlink" title="let命令"></a>let命令</h1><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p>► 用来声明变量，类似于 <strong>var</strong>，但只在 <strong>let</strong> 命令所在的代码块内有效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    let a = 10;</span><br><span class="line">    var b = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a // ReferenceError</span><br><span class="line">b // 1</span><br></pre></td></tr></table></figure>
<p>► 使用 <strong>let</strong> ，声明的变量只在块级作用域内有效，因此 <strong>for</strong> 循环的计数器很适合用 <strong>let</strong> 命令</p>
<p>► <strong>for</strong> 循环还有一个特别之处，设置循环变量的那部分是一个副作用域，而循环体内部是一个单独的子作用域</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (let i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">    let i = &apos;abs&apos;;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="不存在变量提升"><a href="#不存在变量提升" class="headerlink" title="不存在变量提升"></a>不存在变量提升</h3><p>► <strong>var</strong> 命令会有变量提升，也就是变量可以在声明之前使用，值为 <strong>undefined</strong></p>
<p>► <strong>let</strong> 命令改变了这种语法行为，它所声明的变量一定要在声明后使用，否则就报错</p>
<h3 id="暂时性死区"><a href="#暂时性死区" class="headerlink" title="暂时性死区"></a>暂时性死区</h3><p>► 只要块级作用域内存在 <strong>let</strong> 命令，它所声明的变量就绑定这个区域，不受外部的影响</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var tmp = 123;</span><br><span class="line"></span><br><span class="line">if(true) &#123;</span><br><span class="line">    tmp = &apos;abc&apos;;  //ReferenceError</span><br><span class="line">    let temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>► 上述代码中虽然存在全局变量 <strong>tmp</strong>,但是块级作用域内 <strong>let</strong> 又声明了一个局部变量 <strong>tmp</strong>，导致后者绑定了这个块级作用域，所以在 <strong>let</strong> 声明变量之前，对 <strong>tmp</strong> 赋值都会报错</p>
<p>► ES6 明确规定，区块中如果存在 <strong>let</strong> 和 <strong>const</strong> 命令，在语法上，这个区块就形成了”暂时性死区”</p>
<p>► 这也意味着 <strong>typeof</strong> 命令不再是一个百分百安全的操作，这样规定暂时性死区和 <strong>let</strong>、<strong>const</strong> 语句不出现变量提升，主要就是为了防止变量在声明前就使用它从而减少错误</p>
<h3 id="不可重复声明"><a href="#不可重复声明" class="headerlink" title="不可重复声明"></a>不可重复声明</h3><p>► <strong>let</strong> 不允许在相同作用域内，重复声明同一个变量，也即不能在函数内部重新声明参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function func(arg) &#123;</span><br><span class="line">    let arg;  //执行会报错</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function func(arg) &#123;</span><br><span class="line">    &#123;</span><br><span class="line">        let arg;  //不会报错</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="const命令"><a href="#const命令" class="headerlink" title="const命令"></a>const命令</h1><h3 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h3><p>► 用来声明一个只读的常量，一旦声明，值就不能改变，这也意味着，<strong>const</strong> 一旦声明变量就必须立即初始化，不能留到之后再赋值，其它与 <strong>let</strong> 命令类似</p>
<h3 id="本质"><a href="#本质" class="headerlink" title="本质"></a>本质</h3><p>► <strong>const</strong> 实际保证的，不是变量的值不能改动，而是变量所指向的内存地址不能改动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const foo = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">//添加属性可以成功</span><br><span class="line">foo.prop = 123;</span><br><span class="line">foo.prop;</span><br><span class="line"></span><br><span class="line">//指向另一个对象就会报错</span><br><span class="line">foo = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h1><h3 id="基本用法-2"><a href="#基本用法-2" class="headerlink" title="基本用法"></a>基本用法</h3><p>► ES6 允许使用“箭头”（=&gt;）定义函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var f = v =&gt; v;</span><br><span class="line"></span><br><span class="line">//等同于</span><br><span class="line">var f = function(v) &#123;</span><br><span class="line">    return v;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>► 如果箭头函数不需要参数或者需要多个参数，就使用圆括号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var f = () =&gt; 5;</span><br><span class="line">//等同于</span><br><span class="line">var f = function() &#123;</span><br><span class="line">    return 5;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var sum = (num1,num2) =&gt; num1 + num2;</span><br><span class="line">//等同于</span><br><span class="line">var sum = function(num1,num2) &#123;</span><br><span class="line">    return num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>► 代码块多于一条语句的话就要用大括号括起来并且使用 <strong>return</strong> 语句返回</p>
<p>► 由于大括号被解释为代码块，所以箭头函数返回的是一个对象的话，必须在对象外面加上括号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var getTempItem = id =&gt; (&#123; id: id, name: &quot;Temp&quot;&#125;);</span><br><span class="line">//等同于</span><br><span class="line">var getTempItem = function(id) &#123;</span><br><span class="line">    return &#123; id: id, name: &quot;Temp&quot;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>► 箭头函数使表达式更简洁<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const isEven = n =&gt; n % 2 == 0;</span><br><span class="line">const square = n =&gt; n * n;</span><br></pre></td></tr></table></figure></p>
<p>► 其它用途…</p>
<h3 id="使用注意点"><a href="#使用注意点" class="headerlink" title="使用注意点"></a>使用注意点</h3><p>► 函数体内的 <strong>this</strong> 对象，就是定义时所在的对象，而不是使用时所在的对象</p>
<p>► 不可以当作构造函数，即不能使用 <strong>new</strong> 命令</p>
<p>► 没有 <strong>arguments</strong> 对象，需要的话可以用 <strong>rest</strong> 参数代替</p>
<p>► 不能使用 <strong>yield</strong> 命令，所以箭头函数不能用作 <strong>Generator</strong> 函数</p>
<p>尤其注意第一点，在箭头函数中 <strong>this</strong> 对象的指向是固定的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        console.log(&apos;id:&apos;, this.id);</span><br><span class="line">    &#125;,100);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var id = 21;</span><br><span class="line"></span><br><span class="line">foo.call(&#123; id: 42 &#125;);  // id: 42</span><br></pre></td></tr></table></figure>
<p>► 上例中 <strong>setTimeout</strong> 的参数是一个箭头函数，它的定义生效在  <strong>foo</strong> 函数生成时，真正执行就要等到100ms后，如果是普通函数的话，执行时 <strong>this</strong> 应该指向全局对象 <strong>window</strong> ，即输出 <strong>21</strong> ，但箭头函数导致this总是指向函数定义生效时所在的对象( <strong>{id: 42}</strong> )，所以输出 <strong>42</strong> .</p>
<p>► <strong>this</strong> 指向的固定化，不是箭头函数内部有这样的机制，而是它没有自己的 <strong>this</strong>，所以它内部的 <strong>this</strong> 就是外层代码块的 <strong>this</strong> ,这也是它不能用作构造函数的原因</p>
<p>所以箭头函数转换成ES5的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        console.log(&apos;id: &apos;,this.id);</span><br><span class="line">    &#125;,100);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var _this = this;</span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line">        console.log(&apos;id: &apos;,_this.id);</span><br><span class="line">    &#125;,100);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="对象和数组"><a href="#对象和数组" class="headerlink" title="对象和数组"></a>对象和数组</h1><h3 id="数组的解构赋值"><a href="#数组的解构赋值" class="headerlink" title="数组的解构赋值"></a>数组的解构赋值</h3><p>► ES6 允许按照一定模式，从数组和对象中提取值同时对变量进行赋值，这被称为 <strong>解构</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let [a,b,c] = [1,2,3];</span><br></pre></td></tr></table></figure>
<p>上面的代码中从数组中提取值并按照对应位置对变量赋值</p>
<p>本质上这种写法属于”模式匹配”, 只要等号两边的模式相同，左边的变量就会被赋予对应的值, 如果不完全解构即左边的模式只匹配一部分的右边的数组，解构也成功</p>
<p>一些例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/*完全解构*/</span><br><span class="line">let [ , , third] = [&apos;foo&apos;, &apos;bar&apos;, &apos;baz&apos;];</span><br><span class="line">third // &apos;baz&apos;</span><br><span class="line"></span><br><span class="line">let [head, ...tail] = [1,2,3,4];</span><br><span class="line">head // 1</span><br><span class="line">tail // [2,3,4]</span><br><span class="line"></span><br><span class="line">/*不完全解构*/</span><br><span class="line">let [x, y] = [1, 2, 3];</span><br><span class="line">x // 1</span><br><span class="line">y // 2</span><br><span class="line"></span><br><span class="line">let [a, [b], d] = [1, [2, 3], 4]</span><br><span class="line">a // 1</span><br><span class="line">b // 2</span><br><span class="line">d // 4</span><br></pre></td></tr></table></figure></p>
<p>事实上，只要某种数据结构具有 <strong>Iterator</strong> 接口，都可以采用数组形式的解构赋值</p>
<h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值"></a>对象的解构赋值</h3><p>► 对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名才能正确取到值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let &#123; bar, foo &#125; = &#123; foo: &quot;aa&quot;, bar: &quot;cc&quot; &#125;;</span><br><span class="line">foo // &quot;aa&quot;</span><br><span class="line">bar // &quot;cc&quot;</span><br><span class="line"></span><br><span class="line">let &#123; baz &#125; = &#123; foo: &quot;aa&quot;, bar: &quot;cc&quot; &#125;;</span><br><span class="line">baz // undefined</span><br><span class="line"></span><br><span class="line">/*变量名与属性名不一致的写法*/</span><br><span class="line">let &#123; foo: baz &#125; = &#123; foo: &apos;aa&apos;, bar: &apos;cc&apos; &#125;;</span><br><span class="line">baz // &quot;aa&quot;</span><br></pre></td></tr></table></figure>
<p>变量名与属性名不一致的写法实际上说明，对象的解构赋值是下面形式的简写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &#123; foo: foo, bar: bar &#125; = &#123; foo: &quot;aa&quot;, bar: &apos;cc&apos; &#125;;</span><br></pre></td></tr></table></figure>
<p>即对象的解构赋值是先找到同名属性，再赋给对应的变量。真正被赋值的是后者而不是前者</p>
<p>► 对象的解构赋值，可以很方便地将现有对象的方法赋值给对应的变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &#123; log, sin, cos &#125; = Math;</span><br></pre></td></tr></table></figure>
<p>解构赋值的规则是，只要等号右边的值不是对象或数组，都会先将其转为对象</p>
<h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*交换变量的值*/</span><br><span class="line">let x = 1;</span><br><span class="line">let y = 2;</span><br><span class="line"></span><br><span class="line">[x, y] = [y, x]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/*从函数返回多个值*/</span><br><span class="line"></span><br><span class="line">// 返回一个数组</span><br><span class="line">function example() &#123;</span><br><span class="line">    return [1, 2, 3];</span><br><span class="line">&#125;</span><br><span class="line">let [a, b, c] = example();</span><br><span class="line"></span><br><span class="line">//返回一个对象</span><br><span class="line">function example() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        foo: 1,</span><br><span class="line">        bar: 2</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*函数参数的定义*/</span><br><span class="line"></span><br><span class="line">// 参数是一组无次序的值时</span><br><span class="line">function f(&#123; x, y, z &#125;) &#123; ... &#125;</span><br><span class="line">f(&#123; z: 3, y: 5, x: 0 &#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/*提取JSON数据*/</span><br><span class="line">let jsonData = &#123;</span><br><span class="line">    id: 42,</span><br><span class="line">    data: [860, 504]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let &#123; id, data: number &#125; = jsonData;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax = function(url, &#123;</span><br><span class="line">    async = true,</span><br><span class="line">    beforeSend = function() &#123;&#125;,</span><br><span class="line">    cache = true,</span><br><span class="line">    complete = function() &#123;&#125;,</span><br><span class="line">    crossDomain = false,</span><br><span class="line">    global = true,</span><br><span class="line">    // ... more config</span><br><span class="line">&#125;) &#123;&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/* 输入模块的指定方法 */</span><br><span class="line"></span><br><span class="line">const &#123; SourceMapConsumer, SourceNode &#125; = require(&quot;source-map&quot;);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/23/jQuery基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/jQuery基础/" itemprop="url">jQuery基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-23T19:20:35+08:00">
                2017-11-23
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/23/jQuery基础/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/23/jQuery基础/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基础核心"><a href="#基础核心" class="headerlink" title="基础核心"></a>基础核心</h1><h3 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h3><p><strong>‘$’</strong>： <strong>jQuery</strong> 当中最重要并且独有的对象：jQuery对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(function() &#123;&#125;);           //执行一个匿名函数</span><br><span class="line">$(&apos;#box&apos;);                  //进行执行的ID元素选择</span><br><span class="line">$(&apos;#box&apos;).css(&apos;color&apos;,&apos;red&apos;);  //执行功能函数</span><br><span class="line"></span><br><span class="line">/*等同于*/</span><br><span class="line">jQuery(function() &#123;&#125;);</span><br><span class="line">jQuery(&apos;#box&apos;);</span><br></pre></td></tr></table></figure></p>
<p>执行功能函数时，先获取元素返回 <strong>jQuery</strong> 对象后再调用功能函数，同时返回的还是 <strong>jQuery</strong> 对象，所以可以连缀不停的调用功能函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;#box&apos;).css(&apos;color&apos;,&apos;red&apos;).css(&apos;font-size&apos;,&apos;50px&apos;);</span><br></pre></td></tr></table></figure>
<h3 id="加载模式"><a href="#加载模式" class="headerlink" title="加载模式"></a>加载模式</h3><p><strong>jQuery</strong> 等待加载：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function () &#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>它的执行时机只需等待网页中的DOM结构加载完毕就可以执行包裹的代码，并且可以执行多次不会覆盖</p>
<p> <strong>window.onload</strong> 需要等待图片之类的大型元素加载完毕后才能执行JS代码，在网速慢的情况下，图片还在缓慢加载时，页面上任何的JS交互功能都会处在假死状态，同时只能执行一次，会给实际开发带来困难</p>
<h3 id="对象互换"><a href="#对象互换" class="headerlink" title="对象互换"></a>对象互换</h3><p><strong>jQuery</strong> 对象是 <strong>jQuery</strong> 库独有的对象，通过JS封装而来，可以直接输出得到它的信息</p>
<p>只要使用代码包裹以后，最终返回的都是 <strong>jQuery</strong> 对象，好处就是可以连缀处理，如果需要返回原生的DOM对象的话，可以这么处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;#box&apos;).get(0);    //ID元素的第一个原生DOM</span><br></pre></td></tr></table></figure>
<p>从get(0)的索引看出， <strong>jQuery</strong> 可以批量处理DOM，在循环遍历上会更方便</p>
<h3 id="多个库之间的冲突"><a href="#多个库之间的冲突" class="headerlink" title="多个库之间的冲突"></a>多个库之间的冲突</h3><p>同一个项目中引入多个第三方库时，由于没有命名空间的约束，不同库之间很容易发生冲突</p>
<p>对于同样使用’$’作为基准起始符的库(如 <strong>Base</strong> 库)，想和 <strong>jQuery</strong> 共存的话有两种办法：</p>
<ol>
<li>先引入 <strong>jQuery</strong> 库，这样’$’的所有权就归之后的库所有， <strong>jQuery</strong> 可以直接用jQuery对象调用，或者创建一个新符(‘$$’)给它用：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var $$ = jQuery;</span><br><span class="line">$(function () &#123;</span><br><span class="line">    $(&apos;#box&apos;).get(0);       // 都是Base的$</span><br><span class="line">    $$(&apos;#box&apos;).width(0);    // jQuery的$$</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol>
<li>后引入 <strong>jQuery</strong> 库，’$’归 <strong>jQuery</strong> 库，<strong>jQuery</strong> 有一个方法可以放弃：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jQuery.noConflict();    // 将$符所有权剔除</span><br><span class="line">var $$ = jQuery;</span><br><span class="line">$(function () &#123;</span><br><span class="line">    ...                 // $属于Bae, $$属于jQuery</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="工具函数"><a href="#工具函数" class="headerlink" title="工具函数"></a>工具函数</h1><h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;   sad&apos;;</span><br><span class="line">$.trim(str);         //去除字符串左右空格</span><br></pre></td></tr></table></figure>
<h3 id="数组和对象操作"><a href="#数组和对象操作" class="headerlink" title="数组和对象操作"></a>数组和对象操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/*$.each()遍历数组*/</span><br><span class="line">var arr = [&apos;张三&apos;,&apos;李四&apos;,&apos;王五&apos;];</span><br><span class="line">$.each(arr,function(index, value) &#123;</span><br><span class="line">    $(&apos;#box&apos;).html($(&apos;#box&apos;).html + index + &apos;.&apos; + value + &apos;&lt;br&gt;&apos;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">/*遍历对象*/</span><br><span class="line">$.each($.ajax(), function(name, fn) &#123;</span><br><span class="line">    $(&apos;#box&apos;).html($(&apos;#box&apos;).html() + name + &apos;.&apos; + &apos;&lt;br&gt;&lt;br&gt;&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*$.grep()数据筛选*/</span><br><span class="line">var arr = [5,3,5,7,45,98,23,10];</span><br><span class="line">$.grep(arr, function(element, index) &#123;</span><br><span class="line">    return element &lt; 6 &amp;&amp; index &lt; 5;</span><br><span class="line">&#125;);</span><br><span class="line">/*index从0开始计算*/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/*$.map()修改数据*/</span><br><span class="line">var arr = [5,6,87,54,32,4,10];</span><br><span class="line">$.map(arr, function(element, index) &#123;</span><br><span class="line">    if(element &lt; 6 &amp;&amp; index &lt; 5) &#123;</span><br><span class="line">        return element + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>► <strong>$.merge()</strong> 合并两个数组</p>
<p>► <strong>$.unique()</strong> 删除重复的DOM元素</p>
<p>► <strong>.toArray()</strong> 合并多个DOM元素组成数组</p>
<p>…</p>
<h3 id="测试操作"><a href="#测试操作" class="headerlink" title="测试操作"></a>测试操作</h3><p><img src="http://i1.bvimg.com/1949/4e368b483728b084.png" alt="Markdown"></p>
<h3 id="URL操作"><a href="#URL操作" class="headerlink" title="URL操作"></a>URL操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*$.param()将对象键值对转换为URL字符串键值对*/</span><br><span class="line">var obj = &#123;</span><br><span class="line">    name : &apos;Lee&apos;,</span><br><span class="line">    age : &apos;20&apos;</span><br><span class="line">&#125;;</span><br><span class="line">$.param(obj);</span><br></pre></td></tr></table></figure>
<h3 id="其它操作"><a href="#其它操作" class="headerlink" title="其它操作"></a>其它操作</h3><p>jQuery提供了一个预备绑定函数上下文的工具函数: $.proxy(),可以解决如外部事件触发调用对象方法时this的指向问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/*$.proxy()调整this指向*/</span><br><span class="line">var obj = &#123;</span><br><span class="line">    name : &apos;Lee&apos;,</span><br><span class="line">    test: function() &#123;</span><br><span class="line">        alert(this.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(&apos;#box&apos;).click(obj.test);              //this指向为#box元素，undefined</span><br><span class="line">$(&apos;#box&apos;).click($.proxy(obj,&apos;test&apos;));   //this指向为对象box，Lee</span><br><span class="line"></span><br><span class="line">/*等效于*/</span><br><span class="line">var obj = &#123;</span><br><span class="line">    name : &apos;Lee&apos;,</span><br><span class="line">    test : function() &#123;</span><br><span class="line">        var _this = obj;</span><br><span class="line">        alert(_this.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/23/面向对象与原型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/面向对象与原型/" itemprop="url">面向对象与原型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-23T19:20:25+08:00">
                2017-11-23
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/23/面向对象与原型/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/23/面向对象与原型/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这里会先把之前已经写好的总结陆续放上来，主要也是有一个时间顺序记录自己的学习过程（(#^.^#)）</p>
<h1 id="面向对象与原型"><a href="#面向对象与原型" class="headerlink" title="面向对象与原型"></a>面向对象与原型</h1><h3 id="一-创建对象："><a href="#一-创建对象：" class="headerlink" title="一.创建对象："></a>一.创建对象：</h3><h4 id="1-最基本的创建一个对象并添加属性和方法"><a href="#1-最基本的创建一个对象并添加属性和方法" class="headerlink" title="1.最基本的创建一个对象并添加属性和方法"></a>1.最基本的创建一个对象并添加属性和方法</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958f4ccc2af4.png" alt=""></p>
<p>缺点：每创建一个类似对象，都会产生大量代码</p>
<p>解决：工厂模式解决实例化对象产生大量重复代码，即设计一个实例化的函数</p>
<h4 id="2-工厂模式："><a href="#2-工厂模式：" class="headerlink" title="2.工厂模式："></a>2.工厂模式：</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958f59831804.png" alt=""></p>
<p>新问题：无法区别实例的来源对象</p>
<p>解决：用构造函数来创建特定的对象</p>
<h4 id="3-构造函数"><a href="#3-构造函数" class="headerlink" title="3.构造函数"></a>3.构造函数</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958f60585ac4.png" alt=""></p>
<p>重复实例化和对象识别的问题都得到解决</p>
<p>规范：<br>1.函数名和实例化名相同并且首字母大写（有助于区分构造函数和普通函数）</p>
<p>2.必须用new运算符创建对象（与普通函数的区别）</p>
<p>与工厂模式的区别：<br>1.构造函数没有显式地创建对象</p>
<p>2.直接把属性方法赋给this对象</p>
<p>3.没有return语句</p>
<p>小问题：在对run方法的引用上每次实例化的地址都不同，即alert(person1.run == person2.run)的结果是false</p>
<h3 id="二-原型"><a href="#二-原型" class="headerlink" title="二.原型"></a>二.原型</h3><p>创建的每个函数都有一个prototype属性（对象）。包含可以由特定类型的所有实例共享的属性和方法</p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/5958f79adfc73.png" alt=""></p>
<h4 id="1-构造函数与原型模式的声明方式："><a href="#1-构造函数与原型模式的声明方式：" class="headerlink" title="1.构造函数与原型模式的声明方式："></a>1.构造函数与原型模式的声明方式：</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958f7ee77a67.png" alt=""></p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/5958f804640eb.png" alt=""></p>
<p>通过两种方式的对比可以明白为什么它们在对方法的引用地址上会有区别</p>
<h4 id="2-原型模式的执行流程："><a href="#2-原型模式的执行流程：" class="headerlink" title="2.原型模式的执行流程："></a>2.原型模式的执行流程：</h4><p>构造函数实例里有属性或方法的话就返回，没有就去它的原型对象中找</p>
<h4 id="对属性是在构造函数的实例里还是原型里的判断："><a href="#对属性是在构造函数的实例里还是原型里的判断：" class="headerlink" title="对属性是在构造函数的实例里还是原型里的判断："></a>对属性是在构造函数的实例里还是原型里的判断：</h4><pre><code>hasOwnProperty()---&gt;实例有返回true

in操作符        ---&gt;只要存在就返回true

                ---&gt;两种方法结合判断原型中是否存在属性
</code></pre><h4 id="3-原型模式创建对象的缺点：共享"><a href="#3-原型模式创建对象的缺点：共享" class="headerlink" title="3.原型模式创建对象的缺点：共享"></a>3.原型模式创建对象的缺点：共享</h4><p>—–如果某次实例化时改变了原型中的属性，则会影响到之后的实例化对象</p>
<p>—–如果有传入参数的话，之后的实例化对象属性会覆盖掉之前的，无法独立</p>
<h4 id="即用相同原型创建的对象访问原型中的属性时，访问的都是同一个对象"><a href="#即用相同原型创建的对象访问原型中的属性时，访问的都是同一个对象" class="headerlink" title="即用相同原型创建的对象访问原型中的属性时，访问的都是同一个对象"></a>即用相同原型创建的对象访问原型中的属性时，访问的都是同一个对象</h4><p>解决：构造函数+原型模式的组合模式：</p>
<ul>
<li>构造函数适合封装属性</li>
<li>原型模式适合封装方法</li>
</ul>
<h4 id="组合模式："><a href="#组合模式：" class="headerlink" title="组合模式："></a>组合模式：</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958fa40b9a60.png" alt=""></p>
<p>解决了传参和共享的难题，进一步的优化是把构造函数和原型封装到一起</p>
<h4 id="动态原型模式："><a href="#动态原型模式：" class="headerlink" title="动态原型模式："></a>动态原型模式：</h4><p><img src="https://ooo.0o0.ooo/2017/07/02/5958fa8190515.png" alt=""></p>
<p>以上两种是JS创建对象时使用较多的方式，优先考虑动态原型模式</p>
<h4 id="4-补充："><a href="#4-补充：" class="headerlink" title="4.补充："></a>4.补充：</h4><p>寄生构造函数：工厂模式+构造函数模式</p>
<p>—&gt;需要创建一个具有额外方法的引用类型</p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/5958fb60c3f0b.png" alt=""></p>
<p>稳妥构造函数：</p>
<p>—&gt;构造函数中不用this,外部实例化函数时不用new</p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/5958fb7573eb1.png" alt=""></p>
<h3 id="三-继承"><a href="#三-继承" class="headerlink" title="三.继承"></a>三.继承</h3><h4 id="1-原型链"><a href="#1-原型链" class="headerlink" title="1.原型链"></a>1.原型链</h4><p>正统面向对象语言实现继承的方式：接口实现和继承</p>
<p>ECMAScript只支持继承，实现的方式是依靠<strong>原型链</strong></p>
<p>实质：通过原型让一个引用类型继承另一个引用类型的属性和方法</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/59591a80318cb.png" alt=""></p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/59591c573d9dc.png" alt=""></p>
<p>被继承的函数称为超类型（父类、基类）;继承的函数称为子类型（子类、派生类）</p>
<p><strong>继承存在的问题：</strong></p>
<ul>
<li>字面量重写原型会中断关系</li>
<li>子类型无法给超类型传递参数</li>
</ul>
<h4 id="2-借用构造函数（对象冒充）"><a href="#2-借用构造函数（对象冒充）" class="headerlink" title="2.借用构造函数（对象冒充）"></a>2.借用构造函数（对象冒充）</h4><p>—&gt;解决引用共享和不能给超类型传参的问题</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/595993685b8a7.png" alt=""></p>
<p>新问题：没有原型，无法复用</p>
<h4 id="3-组合继承（最常用）"><a href="#3-组合继承（最常用）" class="headerlink" title="3.组合继承（最常用）"></a>3.组合继承（最常用）</h4><p>—&gt;通过原型链继承原型的属性方法</p>
<p>—&gt;通过借用构造函数继承实例的属性</p>
<p>—&gt;既实现了函数复用，又保证每个实例的独立性</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/595990a376a5b.png" alt=""></p>
<h4 id="4-原型式继承"><a href="#4-原型式继承" class="headerlink" title="4.原型式继承"></a>4.原型式继承</h4><p>—&gt;借助原型并基于已有的对象创建新对象，不用再创建自定义类型</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/59599952b8aaf.png" alt=""></p>
<h4 id="5-寄生式继承（原型式-工厂模式）"><a href="#5-寄生式继承（原型式-工厂模式）" class="headerlink" title="5.寄生式继承（原型式+工厂模式）"></a>5.寄生式继承（原型式+工厂模式）</h4><p>—&gt;为了封装创建对象的过程</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/59599acd1fc6b.png" alt=""></p>
<h4 id="6-寄生组合式继承"><a href="#6-寄生组合式继承" class="headerlink" title="6.寄生组合式继承"></a>6.寄生组合式继承</h4><p>—&gt;处理组合式继承的问题：超类型在使用过程中被调用了两次：</p>
<ul>
<li>创建子类型时</li>
<li>在子类型构造函数内部</li>
</ul>
<p><img src="https://ooo.0o0.ooo/2017/07/03/59599c8f278a0.png" alt=""></p>
<p>通过原型链的混成形式调用方法，解决了两次调用的问题</p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>1.创建对象：</p>
<p>工厂模式：用简单的函数创建对象，添加属性方法然后返回它</p>
<p>构造函数模式：可以创建特定的对象，但是它的成员包括函数都不能复用</p>
<p>原型模式：利用函数的prototype属性来指定应该共享的方法和属性</p>
<p>组合模式：利用构造函数定义实例属性，利用原型定义共享方法</p>
<p>2.继承：</p>
<p>原型链继承：通过原型让一个引用类型继承另一个引用类型的属性和方法</p>
<p>借用构造函数（对象冒充）：解决引用共享和超类型不能传参的问题</p>
<p>组合继承：通过原型链继承原型的属性方法，通过借用构造函数继承实例的属性，最常用，但有多次调用超类型构造函数导致的低效率问题</p>
<p>原型式继承：在已有对象上借助原型创建新对象，新对象可以进一步添加属性方法</p>
<p>寄生式继承：封装了创建对象的过程，基于这个可以进一步增强对象</p>
<p>寄生组合式继承：通过原型链的混成形式调用方法，避免多次调用超类型构造函数，基于类型继承的最有效方式</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/23/Hexo-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/Hexo-blog/" itemprop="url">Hexo + Github Pages搭建你的博客</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-23T23:07:19+08:00">
                2017-11-23
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/23/Hexo-blog/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/23/Hexo-blog/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一开始自己用hexo搭博客的时候踩了比较多坑，在这里想总结一下做一个简单的搭建教程，后续使用再慢慢完善</p>
<h1 id="初始配置环境"><a href="#初始配置环境" class="headerlink" title="初始配置环境"></a>初始配置环境</h1><ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">node</a> 作用：生成静态页面</li>
<li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a> 作用：将本地的hexo内容提交到github上</li>
<li><a href="https://github.com/" target="_blank" rel="noopener">申请Github</a> 作用：作为博客的远程仓库和服务器</li>
</ul>
<h1 id="Hexo的安装及初始化"><a href="#Hexo的安装及初始化" class="headerlink" title="Hexo的安装及初始化"></a>Hexo的安装及初始化</h1><p>环境配置好后，创建一个文件夹，进入后执行以下命令：</p>
<ul>
<li><code>npm install hexo-cli -g</code> 安装hexo</li>
<li><code>hexo init</code> 初始化</li>
<li><code>npm install</code></li>
<li><code>hexo generate</code> 生成静态页面</li>
<li><code>hexo server</code> 启动本地服务<br>之后浏览器输入<a href="http://localhost:4000" target="_blank" rel="noopener">localhost:4000</a> 就可以看到一个默认的hexo博客啦</li>
</ul>
<h1 id="Github上的配置"><a href="#Github上的配置" class="headerlink" title="Github上的配置"></a>Github上的配置</h1><p>进入Github新建一个仓库，这里特别要强调的是仓库名的格式必须为yourusername.github.io，yourusername就是你的Github用户名，这里错误的话，之后直接访问就会404（我就是这样o(╥﹏╥)o）,建好以后就clone一下HTTPS形式的url（这里先不用SSH）</p>
<h1 id="本地Hexo文件的修改"><a href="#本地Hexo文件的修改" class="headerlink" title="本地Hexo文件的修改"></a>本地Hexo文件的修改</h1><p>进入Hexo文件根目录下的_config.yml，打开以后拉到最下面的deploy那里，改成如下形式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/fxbabys/fxbabys.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p>
<p>这里也特别要强调的是冒号后面一定要加空格</p>
<p>然后执行命令安装: <code>npm install hexo-deployer-git --save</code><br>再执行配置命令: <code>hexo deploy</code><br>这样本地文件就上传到Github远程库上了，访问<a href="https://fxbabys.github.io/" target="_blank" rel="noopener">https://fxbabys.github.io/</a>就行了</p>
<p>之后每次部署发布文章可以按下面的步骤进行：</p>
<ul>
<li><code>hexo new &quot;文章名称&quot;</code> 这样会在source/_posts下生成一个md文档</li>
<li><code>hexo server(hexo s)</code> 上传前本地先预览一下效果</li>
<li><code>hexo generate(hexo g)</code></li>
<li><code>hexo deploy(hexo d)</code></li>
</ul>
<p>到这里搭建一个hexo博客和发布新文章就完成啦！<br>更个性化的设置可以自己去<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>官方文档上查看，介绍的都很详细，也可以去网上找教程再多折腾一些自己的喜好（(<em>^▽^</em>)）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/19/welcome/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Day Break">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/none.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fx's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/welcome/" itemprop="url">Welcome</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-23T17:15:47+08:00">
                2017-11-23
              </time>
            
          </span>

          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/19/welcome/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2017/11/19/welcome/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to my technology blog !<br>This is the first blog I built myself and I will update my study and thinking life in it later.<br>I hope it can also help others who read this blog，let’s step forward together！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/none.jpg"
                alt="Day Break" />
            
              <p class="site-author-name" itemprop="name">Day Break</p>
              <p class="site-description motion-element" itemprop="description">仰望星空，脚踏实地，因为相信，所以看见</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/fxbabys" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://stackoverflow.com/users/8054046/day-break" target="_blank" title="StackOverflow">
                    
                      <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://music.163.com/#/user/home?id=471669642" target="_blank" title="Music">
                    
                      <i class="fa fa-fw fa-globe"></i>Music</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Day Break</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	

		<script type="text/javascript">
		_hcwp = window._hcwp || [];

		_hcwp.push({widget:"Bloggerstream", widget_id: 98151, selector:".hc-comment-count", label: "{\%COUNT%\}" });

		

		(function() {
		if("HC_LOAD_INIT" in window)return;
		HC_LOAD_INIT = true;
		var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
		var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
		hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/98151/"+lang+"/widget.js";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hcc, s.nextSibling);
		})();
		</script>

	
















  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
